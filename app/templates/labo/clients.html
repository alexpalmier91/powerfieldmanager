{# app/templates/labo/clients.html #}
{% extends "_layouts/app.html" %}

{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="/static/labo/client.css">
{% endblock %}

{% block content %}
<div class="container-fluid" id="labo-clients-page">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 data-i18n="labo.clients.title">
      Mes clients
    </h1>
  </div>

  <div class="card mb-3">
    <div class="card-body d-flex flex-wrap align-items-center gap-2">
      <div class="flex-grow-1">
        <label
          for="client-search"
          class="form-label"
          data-i18n="labo.clients.search.label"
        >
          Recherche client
        </label>
        <input
          type="text"
          class="form-control"
          id="client-search"
          placeholder="Rechercher par code ou raison sociale…"
          data-i18n-placeholder="labo.clients.search.placeholder"
        >
      </div>

      <div class="ms-auto">
        <label for="client-sort" class="form-label mb-1" data-i18n="labo.clients.sort.label">
          Trier par
        </label>
        <select id="client-sort" class="form-select form-select-sm">
          <option value="name" data-i18n="labo.clients.sort.name">Nom</option>
          <option value="code" data-i18n="labo.clients.sort.code">Code client</option>
          <option value="postcode" data-i18n="labo.clients.sort.postcode">Code postal</option>
          <option value="city" data-i18n="labo.clients.sort.city">Ville</option>
        </select>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-body table-responsive">
      <table class="table table-striped align-middle" id="clients-table">
        <thead>
          <tr>
            <th
              data-i18n="labo.clients.table.code"
              data-sort-field="code"
              class="sortable"
            >
              Code client
            </th>
            <th
              data-i18n="labo.clients.table.company"
              data-sort-field="name"
              class="sortable"
            >
              Raison sociale
            </th>
            <th
              data-i18n="labo.clients.table.city"
              data-sort-field="postcode"
              class="sortable"
            >
              Ville / CP
            </th>
            <th class="text-end" data-i18n="labo.clients.table.actions">
              Actions
            </th>
          </tr>
        </thead>
        <tbody id="clients-table-body">
          {# Rempli par clients.js #}
        </tbody>
      </table>

      <div id="clients-empty-state" class="text-center py-4 d-none">
        <span data-i18n="labo.clients.empty">
          Aucun client trouvé.
        </span>
      </div>

      <div id="clients-loading" class="text-center py-3 d-none">
        <span data-i18n="common.loading">Chargement…</span>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script src="/static/labo/pages/clients.js"></script>
{% endblock %}
